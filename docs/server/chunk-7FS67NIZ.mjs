import './polyfills.server.mjs';
import{$ as H,A as T,Aa as R,B as X,Ba as Wt,C as j,Ca as Ge,D as ge,Da as qt,E as V,Ea as Oe,F as l,Fa as C,G as u,Ga as Kt,H as Pe,Ha as Zt,I as Ve,J as W,K as v,Ka as Xt,L as jt,M as p,N as pt,O as s,Oa as Yt,P as a,Pa as ne,Q as D,Qa as Jt,R as Rt,S as Ut,Sa as U,T as B,Ta as Qt,U as h,Ua as ft,V as m,W as M,X as Gt,Y as d,Z as f,_ as x,a as At,aa as Y,b as Ft,ba as J,c as Tt,ca as Q,d as Z,da as ue,e as kt,ea as q,f as te,fa as ht,g as xe,ga as Bt,h as at,ha as y,i as lt,ia as O,j as Ne,ja as Re,k as Lt,ka as Ht,l as we,m as ct,ma as zt,n as dt,o as je,p as de,q as E,r as k,ra as Ue,s as G,t as P,ta as gt,u as _,ua as De,v as L,va as ie,w as S,wa as mt,x as Nt,y as ut,ya as $t,z as F,za as I}from"./chunk-5SULICVC.mjs";import{a as A,b as $}from"./chunk-5XUXGTUW.mjs";var ci=(()=>{let i=class i{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}};i.\u0275fac=function(r){return new(r||i)(u(Pe),u(ge))},i.\u0275dir=S({type:i});let n=i;return n})(),_t=(()=>{let i=class i extends ci{};i.\u0275fac=(()=>{let t;return function(o){return(t||(t=X(i)))(o||i)}})(),i.\u0275dir=S({type:i,features:[W]});let n=i;return n})(),Ze=new G("");var Xi={provide:Ze,useExisting:de(()=>re),multi:!0};function Yi(){let n=mt()?mt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Ji=new G(""),re=(()=>{let i=class i extends ci{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Yi())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}};i.\u0275fac=function(r){return new(r||i)(u(Pe),u(ge),u(Ji,8))},i.\u0275dir=S({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&h("input",function(g){return o._handleInput(g.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(g){return o._compositionEnd(g.target.value)})},features:[ue([Xi]),W]});let n=i;return n})();function Qi(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}var yt=new G(""),di=new G("");function en(n){return Qi(n.value)?{required:!0}:null}function ei(n){return null}function ui(n){return n!=null}function pi(n){return zt(n)?Tt(n):n}function hi(n){let i={};return n.forEach(e=>{i=e!=null?A(A({},i),e):i}),Object.keys(i).length===0?null:i}function gi(n,i){return i.map(e=>e(n))}function tn(n){return!n.validate}function mi(n){return n.map(i=>tn(i)?i:e=>i.validate(e))}function nn(n){if(!n)return null;let i=n.filter(ui);return i.length==0?null:function(e){return hi(gi(e,i))}}function Ct(n){return n!=null?nn(mi(n)):null}function rn(n){if(!n)return null;let i=n.filter(ui);return i.length==0?null:function(e){let t=gi(e,i).map(pi);return Ne(t).pipe(xe(hi))}}function bt(n){return n!=null?rn(mi(n)):null}function ti(n,i){return n===null?[i]:Array.isArray(n)?[...n,i]:[n,i]}function on(n){return n._rawValidators}function sn(n){return n._rawAsyncValidators}function vt(n){return n?Array.isArray(n)?n:[n]:[]}function He(n,i){return Array.isArray(n)?n.includes(i):n===i}function ii(n,i){let e=vt(i);return vt(n).forEach(r=>{He(e,r)||e.push(r)}),e}function ni(n,i){return vt(i).filter(e=>!He(n,e))}var ze=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=Ct(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=bt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i=void 0){this.control&&this.control.reset(i)}hasError(i,e){return this.control?this.control.hasError(i,e):!1}getError(i,e){return this.control?this.control.getError(i,e):null}},ve=class extends ze{get formDirective(){return null}get path(){return null}},Te=class extends ze{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},$e=class{constructor(i){this._cd=i}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},an={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},xr=$(A({},an),{"[class.ng-submitted]":"isSubmitted"}),ye=(()=>{let i=class i extends $e{constructor(t){super(t)}};i.\u0275fac=function(r){return new(r||i)(u(Te,2))},i.\u0275dir=S({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&pt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[W]});let n=i;return n})(),Xe=(()=>{let i=class i extends $e{constructor(t){super(t)}};i.\u0275fac=function(r){return new(r||i)(u(ve,10))},i.\u0275dir=S({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&pt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[W]});let n=i;return n})();var Ee="VALID",Be="INVALID",me="PENDING",Se="DISABLED",_e=class{},We=class extends _e{constructor(i,e){super(),this.value=i,this.source=e}},Ae=class extends _e{constructor(i,e){super(),this.pristine=i,this.source=e}},Fe=class extends _e{constructor(i,e){super(),this.touched=i,this.source=e}},fe=class extends _e{constructor(i,e){super(),this.status=i,this.source=e}};function fi(n){return(Ye(n)?n.validators:n)||null}function ln(n){return Array.isArray(n)?Ct(n):n||null}function vi(n,i){return(Ye(i)?i.asyncValidators:n)||null}function cn(n){return Array.isArray(n)?bt(n):n||null}function Ye(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function dn(n,i,e){let t=n.controls;if(!(i?Object.keys(t):t).length)throw new je(1e3,"");if(!t[e])throw new je(1001,"")}function un(n,i,e){n._forEachChild((t,r)=>{if(e[r]===void 0)throw new je(1002,"")})}var qe=class{constructor(i,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=De(()=>this.statusReactive()),this.statusReactive=Ve(void 0),this._pristine=De(()=>this.pristineReactive()),this.pristineReactive=Ve(!0),this._touched=De(()=>this.touchedReactive()),this.touchedReactive=Ve(!1),this._events=new At,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(i),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get status(){return ie(this.statusReactive)}set status(i){ie(()=>this.statusReactive.set(i))}get valid(){return this.status===Ee}get invalid(){return this.status===Be}get pending(){return this.status==me}get disabled(){return this.status===Se}get enabled(){return this.status!==Se}get pristine(){return ie(this.pristineReactive)}set pristine(i){ie(()=>this.pristineReactive.set(i))}get dirty(){return!this.pristine}get touched(){return ie(this.touchedReactive)}set touched(i){ie(()=>this.touchedReactive.set(i))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._assignValidators(i)}setAsyncValidators(i){this._assignAsyncValidators(i)}addValidators(i){this.setValidators(ii(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(ii(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(ni(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(ni(i,this._rawAsyncValidators))}hasValidator(i){return He(this._rawValidators,i)}hasAsyncValidator(i){return He(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){let e=this.touched===!1;this.touched=!0;let t=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsTouched($(A({},i),{sourceControl:t})),e&&i.emitEvent!==!1&&this._events.next(new Fe(!0,t))}markAllAsTouched(i={}){this.markAsTouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(i))}markAsUntouched(i={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let t=i.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:t})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,t),e&&i.emitEvent!==!1&&this._events.next(new Fe(!1,t))}markAsDirty(i={}){let e=this.pristine===!0;this.pristine=!1;let t=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsDirty($(A({},i),{sourceControl:t})),e&&i.emitEvent!==!1&&this._events.next(new Ae(!1,t))}markAsPristine(i={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let t=i.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:i.emitEvent})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i,t),e&&i.emitEvent!==!1&&this._events.next(new Ae(!0,t))}markAsPending(i={}){this.status=me;let e=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new fe(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.markAsPending($(A({},i),{sourceControl:e}))}disable(i={}){let e=this._parentMarkedDirty(i.onlySelf);this.status=Se,this.errors=null,this._forEachChild(r=>{r.disable($(A({},i),{onlySelf:!0}))}),this._updateValue();let t=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new We(this.value,t)),this._events.next(new fe(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors($(A({},i),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(i={}){let e=this._parentMarkedDirty(i.onlySelf);this.status=Ee,this._forEachChild(t=>{t.enable($(A({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors($(A({},i),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(i,e){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let t=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ee||this.status===me)&&this._runAsyncValidator(t,i.emitEvent)}let e=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new We(this.value,e)),this._events.next(new fe(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity($(A({},i),{sourceControl:e}))}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Se:Ee}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i,e){if(this.asyncValidator){this.status=me,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let t=pi(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:i})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let i=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,i}return!1}setErrors(i,e={}){this.errors=i,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(i){let e=i;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((t,r)=>t&&t._find(r),this)}getError(i,e){let t=e?this.get(e):this;return t&&t.errors?t.errors[i]:null}hasError(i,e){return!!this.getError(i,e)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i,e,t){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),(i||t)&&this._events.next(new fe(this.status,e)),this._parent&&this._parent._updateControlsErrors(i,e,t)}_initObservables(){this.valueChanges=new j,this.statusChanges=new j}_calculateStatus(){return this._allControlsDisabled()?Se:this.errors?Be:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(me)?me:this._anyControlsHaveStatus(Be)?Be:Ee}_anyControlsHaveStatus(i){return this._anyControls(e=>e.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i,e){let t=!this._anyControlsDirty(),r=this.pristine!==t;this.pristine=t,this._parent&&!i.onlySelf&&this._parent._updatePristine(i,e),r&&this._events.next(new Ae(this.pristine,e))}_updateTouched(i={},e){this.touched=this._anyControlsTouched(),this._events.next(new Fe(this.touched,e)),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,e)}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){Ye(i)&&i.updateOn!=null&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){let e=this._parent&&this._parent.dirty;return!i&&!!e&&!this._parent._anyControlsDirty()}_find(i){return null}_assignValidators(i){this._rawValidators=Array.isArray(i)?i.slice():i,this._composedValidatorFn=ln(this._rawValidators)}_assignAsyncValidators(i){this._rawAsyncValidators=Array.isArray(i)?i.slice():i,this._composedAsyncValidatorFn=cn(this._rawAsyncValidators)}},Ke=class extends qe{constructor(i,e,t){super(fi(e),vi(t,e)),this.controls=i,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,e){return this.controls[i]?this.controls[i]:(this.controls[i]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(i,e,t={}){this.registerControl(i,e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(i,e={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(i,e,t={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],e&&this.registerControl(i,e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,e={}){un(this,!0,i),Object.keys(i).forEach(t=>{dn(this,!0,t),this.controls[t].setValue(i[t],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(i,e={}){i!=null&&(Object.keys(i).forEach(t=>{let r=this.controls[t];r&&r.patchValue(i[t],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(i={},e={}){this._forEachChild((t,r)=>{t.reset(i?i[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(i,e,t)=>(i[t]=e.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(e,t)=>t._syncPendingControls()?!0:e);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){Object.keys(this.controls).forEach(e=>{let t=this.controls[e];t&&i(t,e)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(let[e,t]of Object.entries(this.controls))if(this.contains(e)&&i(t))return!0;return!1}_reduceValue(){let i={};return this._reduceChildren(i,(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(i,e){let t=i;return this._forEachChild((r,o)=>{t=e(t,r,o)}),t}_allControlsDisabled(){for(let i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(i){return this.controls.hasOwnProperty(i)?this.controls[i]:null}};var Mt=new G("CallSetDisabledState",{providedIn:"root",factory:()=>xt}),xt="always";function pn(n,i){return[...i.path,n]}function _i(n,i,e=xt){yi(n,i),i.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&i.valueAccessor.setDisabledState?.(n.disabled),gn(n,i),fn(n,i),mn(n,i),hn(n,i)}function ri(n,i){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(i)})}function hn(n,i){if(i.valueAccessor.setDisabledState){let e=t=>{i.valueAccessor.setDisabledState(t)};n.registerOnDisabledChange(e),i._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function yi(n,i){let e=on(n);i.validator!==null?n.setValidators(ti(e,i.validator)):typeof e=="function"&&n.setValidators([e]);let t=sn(n);i.asyncValidator!==null?n.setAsyncValidators(ti(t,i.asyncValidator)):typeof t=="function"&&n.setAsyncValidators([t]);let r=()=>n.updateValueAndValidity();ri(i._rawValidators,r),ri(i._rawAsyncValidators,r)}function gn(n,i){i.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Ci(n,i)})}function mn(n,i){i.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Ci(n,i),n.updateOn!=="submit"&&n.markAsTouched()})}function Ci(n,i){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function fn(n,i){let e=(t,r)=>{i.valueAccessor.writeValue(t),r&&i.viewToModelUpdate(t)};n.registerOnChange(e),i._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function vn(n,i){n==null,yi(n,i)}function _n(n,i){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(i,e.currentValue)}function yn(n){return Object.getPrototypeOf(n.constructor)===_t}function Cn(n,i){n._syncPendingControls(),i.forEach(e=>{let t=e.control;t.updateOn==="submit"&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function bn(n,i){if(!i)return null;Array.isArray(i);let e,t,r;return i.forEach(o=>{o.constructor===re?e=o:yn(o)?t=o:r=o}),r||t||e||null}var Mn={provide:ve,useExisting:de(()=>ke)},Ie=Promise.resolve(),ke=(()=>{let i=class i extends ve{get submitted(){return ie(this.submittedReactive)}constructor(t,r,o){super(),this.callSetDisabledState=o,this._submitted=De(()=>this.submittedReactive()),this.submittedReactive=Ve(!1),this._directives=new Set,this.ngSubmit=new j,this.form=new Ke({},Ct(t),bt(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ie.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),_i(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ie.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ie.then(()=>{let r=this._findContainer(t.path),o=new Ke({});vn(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ie.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ie.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Cn(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}};i.\u0275fac=function(r){return new(r||i)(u(yt,10),u(di,10),u(Mt,8))},i.\u0275dir=S({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&h("submit",function(g){return o.onSubmit(g)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ue([Mn]),W]});let n=i;return n})();function oi(n,i){let e=n.indexOf(i);e>-1&&n.splice(e,1)}function si(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var xn=class extends qe{constructor(i=null,e,t){super(fi(e),vi(t,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(i),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ye(e)&&(e.nonNullable||e.initialValueIsDefault)&&(si(i)?this.defaultValue=i.value:this.defaultValue=i)}setValue(i,e={}){this.value=this._pendingValue=i,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(i,e={}){this.setValue(i,e)}reset(i=this.defaultValue,e={}){this._applyFormState(i),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){oi(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){oi(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(i){si(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}};var wn={provide:Te,useExisting:de(()=>pe)},ai=Promise.resolve(),pe=(()=>{let i=class i extends Te{constructor(t,r,o,c,g,w){super(),this._changeDetectorRef=g,this.callSetDisabledState=w,this.control=new xn,this._registered=!1,this.name="",this.update=new j,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=bn(this,c)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),_n(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){_i(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){ai.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,o=r!==0&&gt(r);ai.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?pn(t,this._parent):[t]}};i.\u0275fac=function(r){return new(r||i)(u(ve,9),u(yt,10),u(di,10),u(Ze,10),u(Ue,8),u(Mt,8))},i.\u0275dir=S({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ue([wn]),W,ut]});let n=i;return n})(),Je=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=S({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=i;return n})();var Pn={provide:Ze,useExisting:de(()=>Mi),multi:!0};function bi(n,i){return n==null?`${i}`:(i&&typeof i=="object"&&(i="Object"),`${n}: ${i}`.slice(0,50))}function Vn(n){return n.split(":")[0]}var Mi=(()=>{let i=class i extends _t{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),o=bi(r,t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=Vn(t);return this._optionMap.has(r)?this._optionMap.get(r):t}};i.\u0275fac=(()=>{let t;return function(o){return(t||(t=X(i)))(o||i)}})(),i.\u0275dir=S({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&h("change",function(g){return o.onChange(g.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[ue([Pn]),W]});let n=i;return n})(),xi=(()=>{let i=class i{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(bi(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};i.\u0275fac=function(r){return new(r||i)(u(ge),u(Pe),u(Mi,9))},i.\u0275dir=S({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let n=i;return n})(),Dn={provide:Ze,useExisting:de(()=>wi),multi:!0};function li(n,i){return n==null?`${i}`:(typeof i=="string"&&(i=`'${i}'`),i&&typeof i=="object"&&(i="Object"),`${n}: ${i}`.slice(0,50))}function On(n){return n.split(":")[0]}var wi=(()=>{let i=class i extends _t{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let o=t.map(c=>this._getOptionId(c));r=(c,g)=>{c._setSelected(o.indexOf(g.toString())>-1)}}else r=(o,c)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let o=[],c=r.selectedOptions;if(c!==void 0){let g=c;for(let w=0;w<g.length;w++){let N=g[w],K=this._getOptionValue(N.value);o.push(K)}}else{let g=r.options;for(let w=0;w<g.length;w++){let N=g[w];if(N.selected){let K=this._getOptionValue(N.value);o.push(K)}}}this.value=o,t(o)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=On(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}};i.\u0275fac=(()=>{let t;return function(o){return(t||(t=X(i)))(o||i)}})(),i.\u0275dir=S({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&h("change",function(g){return o.onChange(g.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[ue([Dn]),W]});let n=i;return n})(),Pi=(()=>{let i=class i{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(li(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(li(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};i.\u0275fac=function(r){return new(r||i)(u(ge),u(Pe),u(wi,9))},i.\u0275dir=S({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let n=i;return n})();var En=(()=>{let i=class i{constructor(){this._validator=ei}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ei,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=S({type:i,features:[ut]});let n=i;return n})();var Sn={provide:yt,useExisting:de(()=>wt),multi:!0};var wt=(()=>{let i=class i extends En{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=gt,this.createValidator=t=>en}enabled(t){return t}};i.\u0275fac=(()=>{let t;return function(o){return(t||(t=X(i)))(o||i)}})(),i.\u0275dir=S({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&jt("required",o._enabled?"":null)},inputs:{required:"required"},features:[ue([Sn]),W]});let n=i;return n})();var In=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=L({type:i}),i.\u0275inj=k({});let n=i;return n})();var Qe=(()=>{let i=class i{static withConfig(t){return{ngModule:i,providers:[{provide:Mt,useValue:t.callSetDisabledState??xt}]}}};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=L({type:i}),i.\u0275inj=k({imports:[In]});let n=i;return n})();var oe=(()=>{class n{isAuthenticatedSubject=new Ft(!1);isAuthenticated$=this.isAuthenticatedSubject.asObservable();userId=null;setUser(e){this.userId=e,this.isAuthenticatedSubject.next(!0)}getUser(){return this.userId}isAuthenticated(){return this.userId!==null}logout(){this.userId=null,this.isAuthenticatedSubject.next(!1)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Vi=()=>({standalone:!0});function An(n,i){if(n&1&&(s(0,"div",9),d(1),a()),n&2){let e=m();l(),x(" ",e.errorMessage," ")}}var Di=(()=>{class n{router;http;authService;email="";password="";errorMessage="";constructor(e,t,r){this.router=e,this.http=t,this.authService=r}login(){this.errorMessage="";let e={email:this.email,password:this.password};this.http.post("http://localhost:8080/api/v1/user/login",e).subscribe({next:t=>{t.message==="Email not exists"?this.errorMessage="Email does not exist":t.message==="Login Success"?(this.authService.setUser(t.userId),this.router.navigateByUrl("/home?userId="+t.userId)):this.errorMessage="Incorrect email or password"},error:t=>{console.error("Login failed:",t),this.errorMessage="An error occurred. Please try again later."}})}static \u0275fac=function(t){return new(t||n)(u(U),u(C),u(oe))};static \u0275cmp=_({type:n,selectors:[["app-login"]],decls:16,vars:7,consts:[[1,"login-container"],[1,"login-card"],[1,"heading"],[3,"ngSubmit"],[1,"form-group"],["type","email","id","email","placeholder","Enter Email","required","",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["type","password","id","password","placeholder","Enter Password","required","",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["type","submit",1,"btn","btn-primary"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(t,r){t&1&&(s(0,"div",0)(1,"div",1)(2,"h2",2),d(3,"Login"),a(),s(4,"form",3),h("ngSubmit",function(){return r.login()}),s(5,"div",4)(6,"label"),d(7,"Email :"),a(),s(8,"input",5),Q("ngModelChange",function(c){return J(r.email,c)||(r.email=c),c}),a()(),s(9,"div",4)(10,"label"),d(11,"Password :"),a(),s(12,"input",6),Q("ngModelChange",function(c){return J(r.password,c)||(r.password=c),c}),a()(),s(13,"button",7),d(14,"Login"),a()(),v(15,An,2,1,"div",8),a()()),t&2&&(l(8),Y("ngModel",r.email),p("ngModelOptions",q(5,Vi)),l(4),Y("ngModel",r.password),p("ngModelOptions",q(6,Vi)),l(3),p("ngIf",r.errorMessage))},dependencies:[R,Je,re,ye,Xe,wt,pe,ke],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;width:100%;background-size:cover;background-position:center}.login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:250%}.login-card[_ngcontent-%COMP%]{background-color:#000c;width:400px;box-shadow:0 4px 8px #0000001a;border-radius:5px;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px}.login-card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font-weight:700;color:#fff;text-align:center;margin-bottom:32px;font-size:23px}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;display:block;margin-bottom:8px;font-size:18px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background-color:#fff;padding:10px;border-radius:2px;color:#020202;border:none;font-size:18px}button[type=submit][_ngcontent-%COMP%]{background-color:#6495ed;padding:10px 20px;width:100%;border-radius:5px;color:#fff;font-weight:700;border:none;cursor:pointer;font-size:18px}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#00008b}"]})}return n})();var ae=(()=>{class n{http;apiKey="bb994f195279f5e810d8a59a13fe49a5";apiUrl="https://api.themoviedb.org/3";userId=null;constructor(e){this.http=e}setUserId(e){this.userId=e}getUserId(){return this.userId}getRecommendations(e){let t=new Oe().set("api_key",this.apiKey);return this.http.get(`${this.apiUrl}/movie/${e}/recommendations`,{params:t})}getMovies(e,t=1,r="en"){let o=new Oe().set("api_key",this.apiKey).set("query",e).set("page",t.toString()).set("language",r);return this.http.get(`${this.apiUrl}/search/movie`,{params:o})}getMovieTranslations(e,t,r="en"){return this.getMovies(e,t,r)}getMovieDetails(e){let t=new Oe().set("api_key",this.apiKey).set("language","en");return this.http.get(`${this.apiUrl}/movie/${e}`,{params:t})}getMostRatedFilms(){let e=new Oe().set("api_key",this.apiKey);return this.http.get(`${this.apiUrl}/movie/top_rated`,{params:e})}getNowPlayingMovies(){let e=`${this.apiUrl}/movie/now_playing?api_key=${this.apiKey}`;return this.http.get(e)}getUpcomingMovies(){let e=`${this.apiUrl}/movie/upcoming?api_key=${this.apiKey}`;return this.http.get(e)}getTopRatedMovies(e,t){return this.http.get(`${this.apiUrl}/movie/top_rated?api_key=${this.apiKey}&language=${t}`)}static \u0275fac=function(t){return new(t||n)(P(C))};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ce=class{},Oi=(()=>{class n extends ce{getTranslation(e){return Z({})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=X(n)))(r||n)}})();static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),Le=class{},Ei=(()=>{class n{handle(e){return e.key}static \u0275fac=function(t){return new(t||n)};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})();function it(n,i){if(n===i)return!0;if(n===null||i===null)return!1;if(n!==n&&i!==i)return!0;let e=typeof n,t=typeof i,r,o,c;if(e==t&&e=="object")if(Array.isArray(n)){if(!Array.isArray(i))return!1;if((r=n.length)==i.length){for(o=0;o<r;o++)if(!it(n[o],i[o]))return!1;return!0}}else{if(Array.isArray(i))return!1;c=Object.create(null);for(o in n){if(!it(n[o],i[o]))return!1;c[o]=!0}for(o in i)if(!(o in c)&&typeof i[o]<"u")return!1;return!0}return!1}function le(n){return typeof n<"u"&&n!==null}function Vt(n){return n&&typeof n=="object"&&!Array.isArray(n)}function Ai(n,i){let e=Object.assign({},n);return Vt(n)&&Vt(i)&&Object.keys(i).forEach(t=>{Vt(i[t])?t in n?e[t]=Ai(n[t],i[t]):Object.assign(e,{[t]:i[t]}):Object.assign(e,{[t]:i[t]})}),e}var Ce=class{},Si=(()=>{class n extends Ce{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(e,t){let r;return typeof e=="string"?r=this.interpolateString(e,t):typeof e=="function"?r=this.interpolateFunction(e,t):r=e,r}getValue(e,t){let r=typeof t=="string"?t.split("."):[t];t="";do t+=r.shift(),le(e)&&le(e[t])&&(typeof e[t]=="object"||!r.length)?(e=e[t],t=""):r.length?t+=".":e=void 0;while(r.length);return e}interpolateFunction(e,t){return e(t)}interpolateString(e,t){return t?e.replace(this.templateMatcher,(r,o)=>{let c=this.getValue(t,o);return le(c)?c:r}):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=X(n)))(r||n)}})();static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),be=class{},Ii=(()=>{class n extends be{compile(e,t){return e}compileTranslations(e,t){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=X(n)))(r||n)}})();static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),nt=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new j;onLangChange=new j;onDefaultLangChange=new j},Dt=new G("USE_STORE"),Ot=new G("USE_DEFAULT_LANG"),Et=new G("DEFAULT_LANGUAGE"),St=new G("USE_EXTEND"),z=(()=>{class n{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;isolate;extend;loadingTranslations;pending=!1;_onTranslationChange=new j;_onLangChange=new j;_onDefaultLangChange=new j;_defaultLang;_currentLang;_langs=[];_translations={};_translationRequests={};get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}constructor(e,t,r,o,c,g=!0,w=!1,N=!1,K){this.store=e,this.currentLoader=t,this.compiler=r,this.parser=o,this.missingTranslationHandler=c,this.useDefaultLang=g,this.isolate=w,this.extend=N,K&&this.setDefaultLang(K)}setDefaultLang(e){if(e===this.defaultLang)return;let t=this.retrieveTranslations(e);typeof t<"u"?(this.defaultLang==null&&(this.defaultLang=e),t.pipe(we(1)).subscribe(r=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return Z(this.translations[e]);let t=this.retrieveTranslations(e);return typeof t<"u"?(this.currentLang||(this.currentLang=e),t.pipe(we(1)).subscribe(r=>{this.changeLang(e)}),t):(this.changeLang(e),Z(this.translations[e]))}retrieveTranslations(e){let t;return(typeof this.translations[e]>"u"||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),t=this._translationRequests[e]),t}getTranslation(e){this.pending=!0;let t=this.currentLoader.getTranslation(e).pipe(ct(1),we(1));return this.loadingTranslations=t.pipe(xe(r=>this.compiler.compileTranslations(r,e)),ct(1),we(1)),this.loadingTranslations.subscribe({next:r=>{this.translations[e]=this.extend&&this.translations[e]?A(A({},r),this.translations[e]):r,this.updateLangs(),this.pending=!1},error:r=>{this.pending=!1}}),t}setTranslation(e,t,r=!1){t=this.compiler.compileTranslations(t,e),(r||this.extend)&&this.translations[e]?this.translations[e]=Ai(this.translations[e],t):this.translations[e]=t,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(t=>{this.langs.indexOf(t)===-1&&this.langs.push(t)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,t,r){let o;if(t instanceof Array){let c={},g=!1;for(let w of t)c[w]=this.getParsedResult(e,w,r),te(c[w])&&(g=!0);if(g){let w=t.map(N=>te(c[N])?c[N]:Z(c[N]));return Ne(w).pipe(xe(N=>{let K={};return N.forEach((Ki,Zi)=>{K[t[Zi]]=Ki}),K}))}return c}if(e&&(o=this.parser.interpolate(this.parser.getValue(e,t),r)),typeof o>"u"&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(o=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],t),r)),typeof o>"u"){let c={key:t,translateService:this};typeof r<"u"&&(c.interpolateParams=r),o=this.missingTranslationHandler.handle(c)}return typeof o<"u"?o:t}get(e,t){if(!le(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Lt(r=>(r=this.getParsedResult(r,e,t),te(r)?r:Z(r))));{let r=this.getParsedResult(this.translations[this.currentLang],e,t);return te(r)?r:Z(r)}}getStreamOnTranslationChange(e,t){if(!le(e)||!e.length)throw new Error('Parameter "key" required');return at(lt(()=>this.get(e,t)),this.onTranslationChange.pipe(dt(r=>{let o=this.getParsedResult(r.translations,e,t);return typeof o.subscribe=="function"?o:Z(o)})))}stream(e,t){if(!le(e)||!e.length)throw new Error('Parameter "key" required');return at(lt(()=>this.get(e,t)),this.onLangChange.pipe(dt(r=>{let o=this.getParsedResult(r.translations,e,t);return te(o)?o:Z(o)})))}instant(e,t){if(!le(e)||!e.length)throw new Error('Parameter "key" required');let r=this.getParsedResult(this.translations[this.currentLang],e,t);if(te(r)){if(e instanceof Array){let o={};return e.forEach((c,g)=>{o[e[g]]=e[g]}),o}return e}else return r}set(e,t,r=this.currentLang){this.translations[r][e]=this.compiler.compile(t,r),this.updateLangs(),this.onTranslationChange.emit({lang:r,translations:this.translations[r]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),this.defaultLang==null&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;if(e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,!(typeof e>"u"))return e.indexOf("-")!==-1&&(e=e.split("-")[0]),e.indexOf("_")!==-1&&(e=e.split("_")[0]),e}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}static \u0275fac=function(t){return new(t||n)(P(nt),P(ce),P(be),P(Ce),P(Le),P(Ot),P(Dt),P(St),P(Et))};static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})();var Me=(()=>{class n{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(e,t){this.translate=e,this._ref=t}updateValue(e,t,r){let o=c=>{this.value=c!==void 0?c:e,this.lastKey=e,this._ref.markForCheck()};if(r){let c=this.translate.getParsedResult(r,e,t);te(c.subscribe)?c.subscribe(o):o(c)}this.translate.get(e,t).subscribe(o)}transform(e,...t){if(!e||!e.length)return e;if(it(e,this.lastKey)&&it(t,this.lastParams))return this.value;let r;if(le(t[0])&&t.length)if(typeof t[0]=="string"&&t[0].length){let o=t[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{r=JSON.parse(o)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${t[0]}`)}}else typeof t[0]=="object"&&!Array.isArray(t[0])&&(r=t[0]);return this.lastKey=e,this.lastParams=t,this.updateValue(e,r),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(o=>{this.lastKey&&o.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,r,o.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(o=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,r,o.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,r))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(t){return new(t||n)(u(z,16),u(Ue,16))};static \u0275pipe=Nt({name:"translate",type:n,pure:!1});static \u0275prov=E({token:n,factory:n.\u0275fac})}return n})(),Fi=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[e.loader||{provide:ce,useClass:Oi},e.compiler||{provide:be,useClass:Ii},e.parser||{provide:Ce,useClass:Si},e.missingTranslationHandler||{provide:Le,useClass:Ei},nt,{provide:Dt,useValue:e.isolate},{provide:Ot,useValue:e.useDefaultLang},{provide:St,useValue:e.extend},{provide:Et,useValue:e.defaultLanguage},z]}}static forChild(e={}){return{ngModule:n,providers:[e.loader||{provide:ce,useClass:Oi},e.compiler||{provide:be,useClass:Ii},e.parser||{provide:Ce,useClass:Si},e.missingTranslationHandler||{provide:Le,useClass:Ei},{provide:Dt,useValue:e.isolate},{provide:Ot,useValue:e.useDefaultLang},{provide:St,useValue:e.extend},{provide:Et,useValue:e.defaultLanguage},z]}}static \u0275fac=function(t){return new(t||n)};static \u0275mod=L({type:n});static \u0275inj=k({})}return n})();function Fn(n,i){if(n&1){let e=B();s(0,"div",5),D(1,"img",6),s(2,"div",7)(3,"h3",8),d(4),a(),s(5,"p",9),d(6),y(7,"slice"),a(),s(8,"button",10),h("click",function(){let r=F(e).$implicit,o=m(2);return T(o.viewDetails(r.id))}),d(9),y(10,"translate"),a()()()}if(n&2){let e=i.$implicit,t=m(2);l(),M("alt",e.title),p("src",t.getMoviePosterUrl(e.poster_path),V),l(3),f(e.title),l(2),x("",Re(7,5,e.overview,0,100),"..."),l(3),x(" ",O(10,9,"VIEW_DETAILS")," ")}}function Tn(n,i){if(n&1&&(s(0,"div",1)(1,"h2",2),d(2),y(3,"translate"),a(),s(4,"div",3),v(5,Fn,11,11,"div",4),a()()),n&2){let e=m();l(2),f(O(3,2,"NOW_PLAYING")),l(3),p("ngForOf",e.nowPlayingMovies)}}var Ti=(()=>{class n{moviesService;translate;nowPlayingMovies=[];router;upcomingMovies;showUpcoming;constructor(e,t){this.moviesService=e,this.translate=t}ngOnInit(){this.fetchNowPlayingMovies(),this.fetchUpcomingMovies(),this.translate.setDefaultLang("en")}fetchNowPlayingMovies(){this.moviesService.getNowPlayingMovies().subscribe(e=>{this.nowPlayingMovies=e.results})}fetchUpcomingMovies(){this.moviesService.getUpcomingMovies().subscribe(e=>{this.upcomingMovies=e.results})}getMoviePosterUrl(e){return`https://image.tmdb.org/t/p/w500${e}`}viewDetails(e){this.router.navigate(["/movie-details",e])}hideUpcomingMovies(){setTimeout(()=>{this.showUpcoming=!1},1e4)}static \u0275fac=function(t){return new(t||n)(u(ae),u(z))};static \u0275cmp=_({type:n,selectors:[["app-home"]],decls:1,vars:1,consts:[["class","now-playing-container",4,"ngIf"],[1,"now-playing-container"],[1,"now-playing-title"],[1,"movie-grid"],["class","movie-card",4,"ngFor","ngForOf"],[1,"movie-card"],[1,"movie-poster",3,"src","alt"],[1,"movie-info"],[1,"movie-title"],[1,"movie-overview"],[1,"movie-button",3,"click"]],template:function(t,r){t&1&&v(0,Tn,6,4,"div",0),t&2&&p("ngIf",r.nowPlayingMovies.length>0)},dependencies:[I,R,Ge,Me],styles:[".search-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#000c;padding:30px;box-shadow:0 4px 8px #0000001a;border-radius:5px;width:100%;max-width:800px}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}li[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #444;color:#fff}li[_ngcontent-%COMP%]:hover{background-color:#555}.movie-card[_ngcontent-%COMP%]{background-color:#2c3e50;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0003;transition:transform .3s ease}nav[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;background-color:#333;color:#fff;z-index:1000;padding:10px 20px}.now-playing-container[_ngcontent-%COMP%]{padding:20px;background-color:#2c3e50;border-radius:8px;box-shadow:0 4px 8px #0000001a;margin-top:80px}.now-playing-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#f39c12;margin-bottom:20px;text-align:center}.movie-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px;padding:20px}.movie-card[_ngcontent-%COMP%]{background-color:#34495e;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0003;transition:transform .3s ease}.movie-card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.movie-poster[_ngcontent-%COMP%]{width:100%;height:300px;object-fit:cover;border-bottom:2px solid #f39c12}.movie-info[_ngcontent-%COMP%]{padding:15px;color:#fff}.movie-title[_ngcontent-%COMP%]{font-size:1.2rem;margin:0;font-weight:700}.movie-overview[_ngcontent-%COMP%]{font-size:.9rem;margin:10px 0}.movie-button[_ngcontent-%COMP%]{background-color:#f39c12;border:none;padding:10px 15px;color:#fff;border-radius:5px;cursor:pointer;font-size:.9rem;font-weight:700}.movie-button[_ngcontent-%COMP%]:hover{background-color:#e67e22}"]})}return n})();var It=()=>({standalone:!0}),ki=(()=>{class n{http;router;username="";email="";password="";constructor(e,t){this.http=e,this.router=t}save(){let e={username:this.username,email:this.email,password:this.password};this.http.post("http://localhost:8080/api/v1/user/save",e,{responseType:"text"}).subscribe(t=>{console.log(t),alert(t),this.router.navigate(["/home"])},t=>{t.status===409?alert("Email already exists!"):alert("An error occurred during registration.")})}static \u0275fac=function(t){return new(t||n)(u(C),u(U))};static \u0275cmp=_({type:n,selectors:[["app-signup"]],decls:19,vars:9,consts:[[1,"sign-up-container"],[1,"sign-up-card"],[1,"heading"],[1,"form-group"],["type","text","id","name","placeholder","Enter Name",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["type","email","id","email","placeholder","Enter Email",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["type","password","id","password","placeholder","Enter Password",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(t,r){t&1&&(s(0,"div",0)(1,"div",1)(2,"h2",2),d(3,"Sign Up"),a(),s(4,"form")(5,"div",3)(6,"label"),d(7,"Username :"),a(),s(8,"input",4),Q("ngModelChange",function(c){return J(r.username,c)||(r.username=c),c}),a()(),s(9,"div",3)(10,"label"),d(11,"Email :"),a(),s(12,"input",5),Q("ngModelChange",function(c){return J(r.email,c)||(r.email=c),c}),a()(),s(13,"div",3)(14,"label"),d(15,"Password :"),a(),s(16,"input",6),Q("ngModelChange",function(c){return J(r.password,c)||(r.password=c),c}),a()(),s(17,"button",7),h("click",function(){return r.save()}),d(18,"Sign up"),a()()()()),t&2&&(l(8),Y("ngModel",r.username),p("ngModelOptions",q(6,It)),l(4),Y("ngModel",r.email),p("ngModelOptions",q(7,It)),l(4),Y("ngModel",r.password),p("ngModelOptions",q(8,It)))},dependencies:[Je,re,ye,Xe,pe,ke],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;width:100%;background-size:cover;background-position:center}.sign-up-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%}.sign-up-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#000c;padding:20px;box-shadow:0 4px 8px #0000001a;border-radius:5px;width:400px}.sign-up-card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#fff;text-align:center;margin-bottom:32px;font-size:23px}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;display:block;margin-bottom:8px;font-size:18px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:none;border-radius:5px;background-color:#fff;color:#000;border-right:none;font-size:18px}button[type=submit][_ngcontent-%COMP%]{padding:10px 20px;background-color:#6495ed;border:none;color:#fff;border-radius:5px;cursor:pointer;width:100%;font-weight:700;font-size:18px}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#00008b}"]})}return n})();var Li=(()=>{class n{http;apiUrl="http://localhost:8080/api/v1/ratings/submit";constructor(e){this.http=e}submitRating(e,t,r){if(e!==void 0&&t!==void 0&&r!==void 0){let o={userId:e.toString(),movieId:t.toString(),rating:r.toString()};return this.http.post(this.apiUrl,null,{params:o})}else return console.error("Invalid parameters:",{userId:e,movieId:t,rating:r}),kt("Invalid parameters")}static \u0275fac=function(t){return new(t||n)(P(C))};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ln=()=>[],Nn=()=>[1,2,3,4,5],jn=(n,i)=>({"fas fa-star":n,"far fa-star":i});function Rn(n,i){if(n&1){let e=B();s(0,"i",9),h("click",function(){let r=F(e).$implicit,o=m().$implicit,c=m(2);return T(c.rateMovie(o,r))}),a()}if(n&2){let e=i.$implicit,t=m().$implicit;p("ngClass",Bt(1,jn,e<=t.userRating,e>t.userRating))}}function Un(n,i){if(n&1){let e=B();s(0,"li",4),D(1,"img",5),s(2,"h3"),d(3),a(),s(4,"p"),d(5),a(),s(6,"div",6),v(7,Rn,1,4,"i",7),a(),s(8,"button",8),h("click",function(){let r=F(e).$implicit,o=m(2);return T(o.submitRating(r))}),d(9,"Give Rating"),a()()}if(n&2){let e=i.$implicit;l(),M("alt",e.title),p("src","https://image.tmdb.org/t/p/w185/"+e.poster_path,V),l(2),H("",e.title," (",e.release_date,")"),l(2),f((e.genres||q(6,Ln)).join(" | ")),l(2),p("ngForOf",q(7,Nn))}}function Gn(n,i){if(n&1&&(s(0,"div",1)(1,"h2"),d(2,"Recommended Movies for You"),a(),s(3,"ul",2),v(4,Un,10,8,"li",3),a()()),n&2){let e=m();l(4),p("ngForOf",e.recommendedMovies)}}var Ni=(()=>{class n{route;http;ratingService;recommendedMovies=[];isLoading=!0;userId="";constructor(e,t,r){this.route=e,this.http=t,this.ratingService=r}ngOnInit(){this.route.queryParams.subscribe(e=>{let t=e.movie_name;this.userId=e.user_id,t&&this.userId?this.fetchRecommendations(t,this.userId):console.error("Nom du film ou ID de l'utilisateur manquant")})}fetchRecommendations(e,t){let r=`http://127.0.0.1:5000/recommendations?movie_name=${e}&user_id=${t}`;this.http.get(r).subscribe(o=>{this.recommendedMovies=o,this.isLoading=!1},o=>{console.error("Erreur lors de la r\xE9cup\xE9ration des recommandations:",o),this.isLoading=!1})}rateMovie(e,t){e.userRating=t}submitRating(e){let t=e.userRating,r=e.id;this.userId&&r!==void 0&&t!==void 0?this.ratingService.submitRating(parseInt(this.userId),r,t).subscribe(o=>{console.log("\xC9valuation soumise avec succ\xE8s:",o),alert("\xC9valuation soumise avec succ\xE8s!")},o=>{console.error("Erreur lors de la soumission de l'\xE9valuation:",o),alert("\xC9chec de la soumission de l'\xE9valuation. Veuillez r\xE9essayer.")}):console.error("Missing parameters for submitRating:",{userId:this.userId,movieId:r,rating:t})}static \u0275fac=function(t){return new(t||n)(u(ne),u(C),u(Li))};static \u0275cmp=_({type:n,selectors:[["app-recommendation"]],decls:1,vars:1,consts:[["class","recommended-movies-container",4,"ngIf"],[1,"recommended-movies-container"],[1,"movies-list"],["class","movie-item",4,"ngFor","ngForOf"],[1,"movie-item"],[1,"movie-poster",3,"src","alt"],[1,"star-rating"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"rate-button",3,"click"],[3,"click","ngClass"]],template:function(t,r){t&1&&v(0,Gn,5,1,"div",0),t&2&&p("ngIf",!r.isLoading&&r.recommendedMovies.length>0)},dependencies:[$t,I,R],styles:[".recommended-movies-container[_ngcontent-%COMP%]{padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.recommended-movies-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px;color:#333}.movies-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.movie-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px;padding:10px;border-bottom:1px solid #ddd}.movie-poster[_ngcontent-%COMP%]{width:100px;height:150px;object-fit:cover;border-radius:4px;margin-right:15px}.movie-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;margin:0;color:#555}.movie-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#777;margin:5px 0}.star-rating[_ngcontent-%COMP%]{display:flex;align-items:center;margin:10px 0}.star-rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#f4c542;margin-right:5px;cursor:pointer}.star-rating[_ngcontent-%COMP%]   i.far.fa-star[_ngcontent-%COMP%]{color:#ddd}.rate-button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;border-radius:4px;padding:10px 15px;cursor:pointer;font-size:14px}.rate-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.rate-button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}"]})}return n})();function Bn(n,i){if(n&1&&D(0,"img",2),n&2){let e=m().$implicit;M("alt",e.name),p("src","https://image.tmdb.org/t/p/w200"+e.profile_path,V)}}function Hn(n,i){if(n&1&&(s(0,"div",8),v(1,Bn,1,2,"img",9),s(2,"p"),d(3),a(),s(4,"p")(5,"em"),d(6),a()()()),n&2){let e=i.$implicit;l(),p("ngIf",e.profile_path),l(2),f(e.name),l(3),f(e.character)}}var ji=(()=>{class n{router;route;http;authService;moviesService;movie={};cast=[];isLoading=!0;movieId=null;userId=null;query="";constructor(e,t,r,o,c){this.router=e,this.route=t,this.http=r,this.authService=o,this.moviesService=c}ngOnInit(){this.route.paramMap.subscribe(e=>{this.movieId=e.get("id"),this.movieId&&this.getMovieDetails(this.movieId)}),this.route.queryParams.subscribe(e=>{this.query=e.query,this.userId=+e.userId})}getMovieDetails(e){this.http.get(`https://api.themoviedb.org/3/movie/${e}?api_key=bb994f195279f5e810d8a59a13fe49a5&language=en-US`).subscribe(t=>{this.movie=t,this.isLoading=!1,this.getCast(e)},t=>{console.error("Erreur lors de la r\xE9cup\xE9ration des d\xE9tails du film:",t),this.isLoading=!1})}getCast(e){this.http.get(`https://api.themoviedb.org/3/movie/${e}/credits?api_key=bb994f195279f5e810d8a59a13fe49a5`).subscribe(t=>{this.cast=t.cast.filter(r=>r.profile_path!==null).slice(0,10)},t=>{console.error("Erreur lors de la r\xE9cup\xE9ration des acteurs:",t)})}goToRecommendation(){if(this.movie&&this.movie.title&&this.userId){let e=this.movie.title;this.router.navigate(["/recommendation"],{queryParams:{movie_name:e,user_id:this.userId}})}else console.error("Movie title or user ID is not available")}static \u0275fac=function(t){return new(t||n)(u(U),u(ne),u(C),u(oe),u(ae))};static \u0275cmp=_({type:n,selectors:[["app-moviedetails"]],decls:33,vars:9,consts:[[1,"movie-details-container"],[1,"movie-poster"],[3,"src","alt"],[1,"recommend-button",3,"click"],[1,"movie-info"],[1,"cast-container"],[1,"cast-list"],["class","cast-item",4,"ngFor","ngForOf"],[1,"cast-item"],[3,"src","alt",4,"ngIf"]],template:function(t,r){t&1&&(s(0,"div",0)(1,"div",1),D(2,"img",2),s(3,"button",3),h("click",function(){return r.goToRecommendation()}),d(4,"Recommend"),a()(),s(5,"div",4)(6,"h1"),d(7),a(),s(8,"p")(9,"strong"),d(10,"Release Date:"),a(),d(11),a(),s(12,"p")(13,"strong"),d(14,"Overview:"),a(),d(15),a(),s(16,"p")(17,"strong"),d(18,"Vote average:"),a(),d(19),a(),s(20,"p")(21,"strong"),d(22,"Vote count:"),a(),d(23),a(),s(24,"p")(25,"strong"),d(26,"Popularity:"),a(),d(27),a()()(),s(28,"div",5)(29,"h2"),d(30,"Cast:"),a(),s(31,"div",6),v(32,Hn,7,3,"div",7),a()()),t&2&&(l(2),M("alt",r.movie.title),p("src",r.movie.poster_path?"https://image.tmdb.org/t/p/w500"+r.movie.poster_path:"path/to/placeholder.jpg",V),l(5),f(r.movie.title),l(4),x(" ",r.movie.release_date,""),l(4),x(" ",r.movie.overview,""),l(4),x(" ",r.movie.vote_average,""),l(4),x(" ",r.movie.vote_count,""),l(4),x(" ",r.movie.popularity,""),l(5),p("ngForOf",r.cast))},dependencies:[I,R],styles:[".movie-details-container[_ngcontent-%COMP%]{display:flex;top:50px;margin-bottom:20px;background-color:#000c;padding:20px;box-shadow:0 4px 8px #0000001a;position:relative}.movie-poster[_ngcontent-%COMP%]{position:relative}.movie-poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px;border-radius:10px;display:block}.recommend-button[_ngcontent-%COMP%]{position:absolute;top:400px;left:1500px;background-color:red;color:#fff;border:none;border-radius:5px;padding:10px 20px;font-size:1rem;cursor:pointer;z-index:2;transition:background-color .3s ease}.recommend-button[_ngcontent-%COMP%]:hover{background-color:#8b0000}.movie-info[_ngcontent-%COMP%]{margin-left:20px;color:#ccc}.movie-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:10px}.movie-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;font-size:1.1rem}.cast-container[_ngcontent-%COMP%]{margin-top:40px;background-color:#000c;padding:20px;border-radius:10px;box-shadow:0 4px 8px #0000001a}.cast-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:20px;color:#fff;padding:20px}.cast-list[_ngcontent-%COMP%]{display:flex;overflow-x:auto;gap:20px;padding-bottom:10px}.cast-item[_ngcontent-%COMP%]{flex:0 0 auto;text-align:center;width:150px;background-color:#000;padding:10px;border-radius:10px;box-shadow:0 0 10px #0000001a}.cast-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:120px;height:120px;object-fit:cover;margin-bottom:10px}.cast-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:1rem}.cast-item[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{color:red;font-size:.9rem}"]})}return n})();var zn=n=>["/movies",n],$n=n=>({userId:n});function Wn(n,i){if(n&1){let e=B();s(0,"li",4)(1,"img",5),h("error",function(r){F(e);let o=m();return T(o.onImageError(r))}),a(),s(2,"div",6)(3,"h2",7),d(4),a(),s(5,"p",8),d(6),y(7,"translate"),y(8,"date"),a(),s(9,"p",9),d(10),y(11,"translate"),a(),s(12,"p",10),d(13),y(14,"translate"),a(),s(15,"button",11),d(16,"Details"),a()()()}if(n&2){let e=i.$implicit,t=m();l(),M("alt",e.translatedTitle||e.title),p("src",t.getMovieImage(e),V),l(3),f(e.translatedTitle||e.title),l(2),H("",O(7,11,"Movies.ReleaseDate"),": ",O(8,13,e.release_date),""),l(4),H("",O(11,15,"Movies.VoteAverage"),": ",e.vote_average,""),l(3),H("",O(14,17,"Movies.Overview"),": ",e.translatedDescription||e.overview,""),l(2),p("routerLink",ht(19,zn,e.id))("queryParams",ht(21,$n,t.userId))}}var Ri=(()=>{class n{movieService;route;translate;movies=[];currentPage=1;totalPages=1;query="";selectedLanguage="en";userId="";constructor(e,t,r){this.movieService=e,this.route=t,this.translate=r}ngOnInit(){this.route.queryParams.subscribe(e=>{this.query=e.query,this.userId=e.userId,this.loadMovies(this.query,this.currentPage,this.selectedLanguage)}),this.translate.onLangChange.subscribe(()=>{this.loadMovies(this.query,this.currentPage,this.selectedLanguage)})}loadMovies(e,t,r){this.movieService.getMovies(e,t,r).subscribe(o=>{this.movies=o.results.filter(c=>c.poster_path&&c.vote_average>0),this.totalPages=o.total_pages},o=>{console.error("Error fetching movies:",o)})}goToPage(e){e>0&&e<=this.totalPages&&(this.currentPage=e,this.loadMovies(this.query,this.currentPage,this.selectedLanguage))}getMovieImage(e){return e.poster_path?`https://image.tmdb.org/t/p/w500/${e.poster_path}`:"path/to/placeholder-image.jpg"}onImageError(e){e.target.src="path/to/placeholder-image.jpg"}changeLanguage(e){let t=e.target;this.selectedLanguage=t.value,this.translate.use(this.selectedLanguage),this.loadMovies(this.query,this.currentPage,this.selectedLanguage)}static \u0275fac=function(t){return new(t||n)(u(ae),u(ne),u(z))};static \u0275cmp=_({type:n,selectors:[["app-movie-list"]],decls:10,vars:5,consts:[[1,"movie-list"],["class","movie-item",4,"ngFor","ngForOf"],[1,"pagination"],[3,"click","disabled"],[1,"movie-item"],[1,"movie-image",3,"error","src","alt"],[1,"movie-details"],[1,"movie-title"],[1,"movie-release-date"],[1,"movie-vote-average"],[1,"movie-overview"],[1,"details-button",3,"routerLink","queryParams"]],template:function(t,r){t&1&&(s(0,"div",0)(1,"ul"),v(2,Wn,17,23,"li",1),a(),s(3,"div",2)(4,"button",3),h("click",function(){return r.goToPage(r.currentPage-1)}),d(5,"Pr\xE9c\xE9dent"),a(),s(6,"span"),d(7),a(),s(8,"button",3),h("click",function(){return r.goToPage(r.currentPage+1)}),d(9,"Suivant"),a()()()),t&2&&(l(2),p("ngForOf",r.movies),l(2),p("disabled",r.currentPage===1),l(3),H("Page ",r.currentPage," sur ",r.totalPages,""),l(),p("disabled",r.currentPage===r.totalPages))},dependencies:[I,Qt,Wt,Me],styles:["body[_ngcontent-%COMP%]{margin:0;font-family:Arial,sans-serif;background:#000c;color:#fff;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.details-button[_ngcontent-%COMP%]{background-color:#33339a;color:#fff;border:none;padding:10px 15px;border-radius:4px;cursor:pointer;font-size:.9em;margin-top:10px;transition:background-color .3s,transform .3s}.details-button[_ngcontent-%COMP%]:hover{background-color:#000;transform:scale(1.05)}.movie-list[_ngcontent-%COMP%]{padding:30px;display:flex;flex-direction:column;align-items:center;max-width:1200px;margin:auto}.movie-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;width:100%}.movie-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px;border:1px solid #444;border-radius:8px;overflow:hidden;background-color:#000c;box-shadow:0 4px 8px #0000001a;cursor:pointer;transition:background-color .3s,box-shadow .3s}.movie-item[_ngcontent-%COMP%]:hover{background-color:#333;box-shadow:0 4px 12px #00000080}.movie-image[_ngcontent-%COMP%]{width:150px;height:280px;object-fit:cover}.movie-details[_ngcontent-%COMP%]{padding:15px;flex:1}.movie-title[_ngcontent-%COMP%]{font-size:1.2em;margin:0;color:#fff}.movie-release-date[_ngcontent-%COMP%]{font-size:.9em;color:#aaa;margin:5px 0}.movie-vote-average[_ngcontent-%COMP%]{font-size:.9em;color:#aaa}.recommend-button[_ngcontent-%COMP%]{background-color:#5c5cc1;color:#fff;border:none;padding:10px 15px;border-radius:4px;cursor:pointer;font-size:.9em;margin-top:10px;transition:background-color .3s,transform .3s}.recommend-button[_ngcontent-%COMP%]:hover{background-color:#000;transform:scale(1.05)}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#33339a;color:#000;border:none;padding:10px 20px;margin:0 5px;border-radius:4px;cursor:pointer}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#444;cursor:not-allowed}.pagination[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1em;line-height:2;font-style:normal;color:#000}.language-selector-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:40px;margin-top:50px}.language-selector-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.language-selector-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px;border:1px solid #ccc;border-radius:5px;background-color:#fff;color:#000}select[_ngcontent-%COMP%]{padding:8px;border:1px solid #ccc;border-radius:4px;font-size:16px;margin-bottom:20px;margin-top:50px}option[_ngcontent-%COMP%]{padding:8px}"]})}return n})();function qn(n,i){if(n&1&&(s(0,"div",3),D(1,"img",4),s(2,"h3"),d(3),a(),s(4,"p"),d(5),a()()),n&2){let e=i.$implicit;l(),M("alt",e.name),p("src","https://image.tmdb.org/t/p/w185/"+e.poster_path,V),l(2),f(e.name),l(2),x("Rating: ",e.vote_average,"")}}var Ui=(()=>{class n{http;movies=[];selectedOption="";constructor(e){this.http=e}ngOnInit(){this.fetchMovies("top_rated")}fetchMovies(e){let t="";e==="top_rated"?t="https://api.themoviedb.org/3/tv/top_rated?api_key=bb994f195279f5e810d8a59a13fe49a5":e==="popular"&&(t="https://api.themoviedb.org/3/tv/popular?api_key=bb994f195279f5e810d8a59a13fe49a5&language=en-US"),this.http.get(t).subscribe(r=>{this.movies=r.results})}onOptionChange(e){this.selectedOption=e,this.fetchMovies(e)}static \u0275fac=function(t){return new(t||n)(u(C))};static \u0275cmp=_({type:n,selectors:[["app-films"]],decls:3,vars:1,consts:[[1,"films-menu"],[1,"films-list"],["class","film-item",4,"ngFor","ngForOf"],[1,"film-item"],[3,"src","alt"]],template:function(t,r){t&1&&(s(0,"div",0)(1,"div",1),v(2,qn,6,4,"div",2),a()()),t&2&&(l(2),p("ngForOf",r.movies))},dependencies:[I],styles:[".films-menu[_ngcontent-%COMP%]{margin-bottom:20px;text-align:center}.films-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:20px}.film-item[_ngcontent-%COMP%]{text-align:center;width:185px}.film-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:10px;width:100%}.film-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:10px;font-size:1.1rem}"]})}return n})();function Kn(n,i){if(n&1&&(s(0,"div",4),D(1,"img",5),s(2,"h3"),d(3),a(),s(4,"p"),d(5),a()()),n&2){let e=i.$implicit;l(),M("alt",e.name),p("src","https://image.tmdb.org/t/p/w185/"+e.poster_path,V),l(2),f(e.name),l(2),x("Rating: ",e.vote_average,"")}}var Gi=(()=>{class n{http;movies=[];currentPage=1;totalPages=1;constructor(e){this.http=e}ngOnInit(){this.loadMovies(this.currentPage)}loadMovies(e){this.http.get(`https://api.themoviedb.org/3/tv/top_rated?api_key=bb994f195279f5e810d8a59a13fe49a5&page=${e}`).subscribe(t=>{this.movies=t.results,this.totalPages=t.total_pages})}goToPage(e){e>0&&e<=this.totalPages&&(this.currentPage=e,this.loadMovies(this.currentPage))}nextPage(){this.currentPage<this.totalPages&&this.goToPage(this.currentPage+1)}previousPage(){this.currentPage>1&&this.goToPage(this.currentPage-1)}static \u0275fac=function(t){return new(t||n)(u(C))};static \u0275cmp=_({type:n,selectors:[["app-top-rated-films"]],decls:9,vars:5,consts:[[1,"films-list"],["class","film-item",4,"ngFor","ngForOf"],[1,"pagination"],[3,"click","disabled"],[1,"film-item"],[3,"src","alt"]],template:function(t,r){t&1&&(s(0,"div",0),v(1,Kn,6,4,"div",1),a(),s(2,"div",2)(3,"button",3),h("click",function(){return r.previousPage()}),d(4,"Pr\xE9c\xE9dent"),a(),s(5,"span"),d(6),a(),s(7,"button",3),h("click",function(){return r.nextPage()}),d(8,"Suivant"),a()()),t&2&&(l(),p("ngForOf",r.movies),l(2),p("disabled",r.currentPage===1),l(3),H("Page ",r.currentPage," of ",r.totalPages,""),l(),p("disabled",r.currentPage===r.totalPages))},dependencies:[I],styles:[".films-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;padding:20px;background-color:#000c;box-shadow:0 4px 8px #0000001a}.film-item[_ngcontent-%COMP%]{flex:1 1 calc(25% - 20px);margin:10px;background-color:#222;padding:10px;border-radius:5px;text-align:center;box-shadow:0 4px 8px #0000001a}.film-item[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 20px #0006}.film-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:5px}.film-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.05)}.film-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:red;font-size:16px;margin-top:10px}.film-item[_ngcontent-%COMP%]:hover   h3[_ngcontent-%COMP%]{color:#fff}.film-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;margin-top:5px;font-size:14px}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;margin:0 5px;background-color:red;color:#000;border:none;border-radius:5px;cursor:pointer}.pagination[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}.pagination[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;margin:0 10px}"]})}return n})();function Zn(n,i){if(n&1&&(s(0,"div",4),D(1,"img",5),s(2,"h3"),d(3),a(),s(4,"p"),d(5),a()()),n&2){let e=i.$implicit;l(),M("alt",e.title),p("src","https://image.tmdb.org/t/p/w185/"+e.poster_path,V),l(2),f(e.title),l(2),x("Rating: ",e.vote_average,"")}}var Bi=(()=>{class n{http;movies=[];currentPage=1;totalPages=1;constructor(e){this.http=e}ngOnInit(){this.getMovies()}getMovies(){let e=`https://api.themoviedb.org/3/movie/popular?api_key=bb994f195279f5e810d8a59a13fe49a5&page=${this.currentPage}`;this.http.get(e).subscribe(t=>{this.movies=t.results,this.totalPages=t.total_pages})}goToPage(e){e>0&&e<=this.totalPages&&(this.currentPage=e,this.getMovies())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.getMovies())}previousPage(){this.currentPage>1&&(this.currentPage--,this.getMovies())}static \u0275fac=function(t){return new(t||n)(u(C))};static \u0275cmp=_({type:n,selectors:[["app-popular-films"]],decls:9,vars:5,consts:[[1,"films-list"],["class","film-item",4,"ngFor","ngForOf"],[1,"pagination"],[3,"click","disabled"],[1,"film-item"],[3,"src","alt"]],template:function(t,r){t&1&&(s(0,"div",0),v(1,Zn,6,4,"div",1),a(),s(2,"div",2)(3,"button",3),h("click",function(){return r.previousPage()}),d(4,"Pr\xE9c\xE9dent"),a(),s(5,"span"),d(6),a(),s(7,"button",3),h("click",function(){return r.nextPage()}),d(8,"Suivant"),a()()),t&2&&(l(),p("ngForOf",r.movies),l(2),p("disabled",r.currentPage===1),l(3),H("Page ",r.currentPage," sur ",r.totalPages,""),l(),p("disabled",r.currentPage===r.totalPages))},dependencies:[I],styles:[".films-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;padding:20px;background-color:#000000e6;box-shadow:0 4px 12px #0003;gap:20px}.film-item[_ngcontent-%COMP%]{flex:1 1 calc(25% - 20px);background-color:#1c1c1c;padding:15px;border-radius:10px;text-align:center;box-shadow:0 4px 12px #0000004d;transition:transform .3s ease,box-shadow .3s ease}.film-item[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 20px #0006}.film-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;border-radius:5px;transition:transform .3s ease}.film-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.05)}.film-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:red;font-size:18px;margin-top:10px;transition:color .3s ease}.film-item[_ngcontent-%COMP%]:hover   h3[_ngcontent-%COMP%]{color:#fff}.film-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#b3b3b3;margin-top:5px;font-size:14px}.films-list[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.films-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:red;border-radius:10px}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;margin:0 5px;background-color:red;color:#000;border:none;border-radius:5px;cursor:pointer}.pagination[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}.pagination[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;margin:0 10px}"]})}return n})();var Hi=(()=>{class n{authService;router;constructor(e,t){this.authService=e,this.router=t}canActivate(){return this.authService.isAuthenticated()?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(t){return new(t||n)(P(oe),P(U))};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Xn=[{path:"login",component:Di},{path:"home",component:Ti,canActivate:[Hi]},{path:"signup",component:ki},{path:"recommendation",component:Ni},{path:"movies/:id",component:ji},{path:"movies",component:Ri},{path:"films",component:Ui},{path:"films/top-rated",component:Gi},{path:"films/popular",component:Bi}],zi=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=L({type:n});static \u0275inj=k({imports:[ft.forRoot(Xn),ft]})}return n})();function Yn(n,i){if(n&1){let e=B();s(0,"ul",17)(1,"li",18),h("click",function(){F(e);let r=m(2);return T(r.navigateTo("top-rated"))}),d(2),y(3,"translate"),a(),s(4,"li",18),h("click",function(){F(e);let r=m(2);return T(r.navigateTo("popular"))}),d(5),y(6,"translate"),a()()}n&2&&(l(2),f(O(3,2,"Top Rated")),l(3),f(O(6,4,"Popular")))}function Jn(n,i){if(n&1){let e=B();Rt(0),s(1,"li",6)(2,"div",11)(3,"input",12),y(4,"translate"),Q("ngModelChange",function(r){F(e);let o=m();return J(o.searchTerm,r)||(o.searchTerm=r),T(r)}),a(),s(5,"button",13),h("click",function(){F(e);let r=m();return T(r.searchMovies())}),d(6),y(7,"translate"),a()()(),s(8,"li",14),h("click",function(){F(e);let r=m();return T(r.toggleDropdown())}),v(9,Yn,7,6,"ul",15),a(),s(10,"li",6)(11,"a",16),h("click",function(){F(e);let r=m();return T(r.logout())}),s(12,"p"),d(13),y(14,"translate"),a()()(),Ut()}if(n&2){let e=m();l(3),M("placeholder",O(4,5,"Search movies...")),Y("ngModel",e.searchTerm),l(3),f(O(7,7,"Search")),l(3),p("ngIf",e.isDropdownVisible),l(4),f(O(14,9,"Logout"))}}function Qn(n,i){n&1&&(s(0,"li",6)(1,"a",19)(2,"p"),d(3),y(4,"translate"),a()()(),s(5,"li",6)(6,"a",20)(7,"p"),d(8),y(9,"translate"),a()()()),n&2&&(l(3),f(O(4,2,"Login")),l(5),f(O(9,4,"Sign Up")))}var $i=(()=>{class n{authService;router;translate;isAuthenticated=!1;isDropdownVisible=!1;searchTerm="";as;constructor(e,t,r){this.authService=e,this.router=t,this.translate=r}ngOnInit(){this.authService.isAuthenticated$.subscribe(e=>{this.isAuthenticated=e})}toggleDropdown(){this.isDropdownVisible=!this.isDropdownVisible}logout(){this.authService.logout(),this.router.navigate(["/login"])}searchMovies(){this.searchTerm&&this.router.navigate(["/movies"],{queryParams:{query:this.searchTerm}})}changeLanguage(e){let r=e.target.value;this.translate.use(r)}navigateTo(e){this.router.navigate([`/${e}`])}onLangChange(e){let r=e.target.value;this.translate.use(r)}HTMLSelectElement=HTMLSelectElement;static \u0275fac=function(t){return new(t||n)(u(oe),u(U),u(z))};static \u0275cmp=_({type:n,selectors:[["app-navbar"]],decls:17,vars:5,consts:[["loginOptions",""],[1,"navbar"],[1,"navbar-container"],["href","#",1,"navbar-brand"],[1,"navbar-menu"],[4,"ngIf","ngIfElse"],[1,"navbar-item"],[1,"language-selector-container"],[3,"change"],["value","en"],["value","fr"],[1,"search-container"],["type","text",1,"search-box",3,"ngModelChange","placeholder","ngModel"],[1,"search-button",3,"click"],[1,"navbar-link",3,"click"],["class","dropdown-menu",4,"ngIf"],["href","#",1,"navbar-link",3,"click"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],["href","login",1,"navbar-link"],["href","signup",1,"navbar-link"]],template:function(t,r){if(t&1){let o=B();s(0,"nav",1)(1,"div",2)(2,"a",3)(3,"p"),d(4),y(5,"translate"),a()(),s(6,"ul",4),v(7,Jn,15,11,"ng-container",5)(8,Qn,10,6,"ng-template",null,0,Ht),s(10,"li",6)(11,"div",7)(12,"select",8),h("change",function(g){return F(o),T(r.changeLanguage(g))}),s(13,"option",9),d(14,"English"),a(),s(15,"option",10),d(16,"Fran\xE7ais"),a()()()()()()()}if(t&2){let o=Gt(9);l(4),f(O(5,3,"Movie Recommendation System")),l(3),p("ngIf",r.isAuthenticated)("ngIfElse",o)}},dependencies:[R,xi,Pi,re,ye,pe,Me],styles:[".navbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;background-color:#1c1c1c;color:#fff;z-index:1000;box-shadow:0 2px 5px #0003;padding:15px 30px;font-family:Arial,sans-serif}.navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.navbar-brand[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.navbar-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.navbar-item[_ngcontent-%COMP%]{margin-left:30px}.navbar-link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:1rem;font-weight:500;transition:color .3s ease}.navbar-link[_ngcontent-%COMP%]:hover{color:#f39c12}.search-container[_ngcontent-%COMP%]{display:flex;align-items:center}.search-box[_ngcontent-%COMP%]{padding:8px 15px;border:1px solid #ccc;border-radius:5px 0 0 5px;outline:none;font-size:1rem;margin-right:10px}.search-button[_ngcontent-%COMP%]{padding:8px 15px;background-color:#f39c12;border:none;color:#fff;border-radius:5px;cursor:pointer;font-size:1rem;font-weight:700}.search-button[_ngcontent-%COMP%]:hover{background-color:#e67e22}.dropdown-menu[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#fff;color:#333;list-style:none;padding:10px;margin:0;border-radius:4px;box-shadow:0 4px 8px #0003}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding:10px;cursor:pointer;transition:background-color .3s ease}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.language-selector-container[_ngcontent-%COMP%]{margin-left:30px}body[_ngcontent-%COMP%]{margin-top:80px}"]})}return n})();function tr(n,i){if(n&1&&(s(0,"div",5),D(1,"img",6),s(2,"div",7)(3,"h3"),d(4),a(),s(5,"p"),d(6),y(7,"slice"),a()()()),n&2){let e=i.$implicit,t=m(2);l(),M("alt",e.title),p("src",t.getMoviePosterUrl(e.poster_path),V),l(3),f(e.title),l(2),x("",Re(7,4,e.overview,0,100),"...")}}function ir(n,i){if(n&1&&(s(0,"div",1)(1,"h2",2),d(2,"Top Rated Movies"),a(),s(3,"div",3),v(4,tr,8,8,"div",4),a()()),n&2){let e=m();l(4),p("ngForOf",e.topRatedMovies)}}var ot=(()=>{class n{movieService;route;translate;router;title="movieApp";movies=[];topRatedMovies=[];currentPage=1;totalPages=1;query="";selectedLanguage="en";showTopRatedMovies=!0;constructor(e,t,r,o){this.movieService=e,this.route=t,this.translate=r,this.router=o,this.router.events.subscribe(c=>{c instanceof Yt&&(this.router.url==="/"||this.router.url==="/home"?this.showTopRatedMovies=!0:this.showTopRatedMovies=!1)})}ngOnInit(){this.route.queryParams.subscribe(e=>{this.query=e.query,this.loadMovies(this.query,this.currentPage,this.selectedLanguage),this.fetchTopRatedMovies()}),this.translate.onLangChange.subscribe(()=>{this.loadMovies(this.query,this.currentPage,this.selectedLanguage),this.loadTopRatedMovies(this.currentPage,this.selectedLanguage),this.fetchTopRatedMovies()}),this.loadTopRatedMovies(this.currentPage,this.selectedLanguage)}loadMovies(e,t,r){this.movieService.getMovies(e,t,r).subscribe(o=>{this.movies=o.results.filter(c=>c.poster_path&&c.vote_average>0),this.totalPages=o.total_pages},o=>{console.error("Error fetching movies:",o)})}loadTopRatedMovies(e,t){this.movieService.getTopRatedMovies(e,t).subscribe(r=>{this.topRatedMovies=r.results,console.log("Top Rated Movies:",this.topRatedMovies)},r=>{console.error("Error fetching top-rated movies:",r)})}changeLanguage(e){let t=e.target;this.selectedLanguage=t.value,this.translate.use(this.selectedLanguage),this.loadMovies(this.query,this.currentPage,this.selectedLanguage),this.loadTopRatedMovies(this.currentPage,this.selectedLanguage)}fetchTopRatedMovies(){this.movieService.getTopRatedMovies(this.selectedLanguage).subscribe(e=>{this.topRatedMovies=e.results.filter(t=>t.poster_path&&t.vote_average>0)},e=>{})}getMoviePosterUrl(e){return`https://image.tmdb.org/t/p/w500${e}`}static \u0275fac=function(t){return new(t||n)(u(ae),u(ne),u(z),u(U))};static \u0275cmp=_({type:n,selectors:[["app-root"]],decls:3,vars:1,consts:[["class","top-rated-container",4,"ngIf"],[1,"top-rated-container"],[1,"top-rated-title"],[1,"movie-grid"],["class","movie-card",4,"ngFor","ngForOf"],[1,"movie-card"],[1,"movie-poster",3,"src","alt"],[1,"movie-info"]],template:function(t,r){t&1&&(D(0,"app-navbar"),v(1,ir,5,1,"div",0),D(2,"router-outlet")),t&2&&(l(),p("ngIf",r.showTopRatedMovies&&r.topRatedMovies.length>0))},dependencies:[I,R,Jt,$i,Ge],styles:[".bg-black[_ngcontent-%COMP%]{background-color:#000}.h-screen[_ngcontent-%COMP%]{height:100vh}.top-rated-container[_ngcontent-%COMP%]{padding:20px;margin-top:60px;background-color:#070000;color:#fff;text-align:center}.top-rated-title[_ngcontent-%COMP%]{font-size:28px;color:#33339a;margin-bottom:20px}.movie-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px;justify-content:center}.movie-card[_ngcontent-%COMP%]{background-color:#ffffff1a;padding:10px;border-radius:10px;text-align:center;box-shadow:0 4px 8px #0000001a}.movie-poster[_ngcontent-%COMP%]{width:100%;height:300px;object-fit:cover;border-radius:10px;margin-bottom:10px}.movie-title[_ngcontent-%COMP%]{font-size:18px;color:#fff;margin-top:10px}.movie-overview[_ngcontent-%COMP%]{font-size:14px;color:#ccc}.movie-button[_ngcontent-%COMP%]{background-color:#33339a;color:#fff;border:none;padding:10px;cursor:pointer;font-size:16px;margin-top:10px;transition:background-color .3s ease}.movie-button[_ngcontent-%COMP%]:hover{background-color:#33339a}[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;width:100%;background-size:cover;background-position:center}.navbar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;background-color:#000c;padding:10px 20px;box-shadow:0 2px 4px #0000004d;position:fixed;top:0;left:0;z-index:1000}.navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;max-width:1200px}.navbar-brand[_ngcontent-%COMP%]{color:#33339a;font-size:24px;font-weight:700;text-decoration:none}.navbar-menu[_ngcontent-%COMP%]{list-style:none;display:flex;margin:0;padding:0;align-items:center}.navbar-item[_ngcontent-%COMP%]{margin:0 15px}.navbar-link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:16px}.navbar-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.search-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:calc(100vh - 60px);margin-top:60px}.search-title[_ngcontent-%COMP%]{color:#fff;margin-bottom:20px;font-size:28px;font-weight:700;text-align:center}.search-card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#000c;padding:20px;box-shadow:0 4px 8px #0000001a;border-radius:5px;width:800px}.search-form[_ngcontent-%COMP%]{display:flex;width:100%}.search-input[_ngcontent-%COMP%]{width:600px;padding:15px;border:1px solid #ccc;border-radius:5px 0 0 5px;border-right:none;outline:none;font-size:18px}.search-button[_ngcontent-%COMP%]{padding:15px 30px;background-color:#33339a;border:none;color:#fff;border-radius:0 5px 5px 0;cursor:pointer;font-size:18px;font-weight:700;transition:background-color .3s ease}.search-button[_ngcontent-%COMP%]:hover{background-color:#33339a}.language-selector-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:15px;padding:8px;background-color:#000000b3;border-radius:5px}.language-selector-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px;border:1px solid #ccc;border-radius:5px;font-size:16px;background-color:#000;color:#fff}.language-selector-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#33339a}.language-selector-container[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#fff}"]})}return n})();var st=class{http;prefix;suffix;constructor(i,e="/assets/i18n/",t=".json"){this.http=i,this.prefix=e,this.suffix=t}getTranslation(i){return this.http.get(`${this.prefix}${i}${this.suffix}`)}};var Wi=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=L({type:n});static \u0275inj=k({imports:[qt,Qe]})}return n})();function nr(n){return new st(n)}var qi=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=L({type:n,bootstrap:[ot]});static \u0275inj=k({imports:[Zt,zi,Wi,Qe,Kt,Fi.forRoot({loader:{provide:ce,useFactory:nr,deps:[C]}})]})}return n})();var rr=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=L({type:n,bootstrap:[ot]});static \u0275inj=k({imports:[qi,Xt]})}return n})();export{rr as a};
